泛用决策AI之三国杀案例

AI其他作用：写代码，逻辑作画，灵活数据库。

# 流程

## 基本流程

http://blog.sina.com.cn/s/blog_60c5057e0100xvww.html

以上只是参考我们有比他更好的模型

结算流程虽然可以被另一个流程打断，但注意一点，无论何时界面上只有一个流程在结算。

显然这是一个栈模型。


## 具体卡牌流程

## 技能流程

## 复杂结算流程

https://tieba.baidu.com/p/1093814340?pn=1

https://tieba.baidu.com/f?kz=976429719&red_tag=0986191290

http://www.e3ol.com/news/html/2011-4/27115/27115_2011418.shtml

# 前后端协作
锁定与非锁定技能都可以看做是向对方询问，只不过锁定技百分百回答触发。

例子一：黄盖杀法正，法正发动八卦，司马懿改判定，法正掉血发动恩怨，黄盖掉体力摸排，法正队友蔡文姬判定，黄盖队友司马懿改派。

回合内：


决定发动技能->询问后台技能要素（选择手牌-手牌合法目标-或者选择英雄-英雄合法目标- 这里似乎有个DSL）->动画过程：逐一满足技能要素（或随时终止）--确定发动技能

--决定影响：将这一决定通知全局（有响应则压栈处理）--决定影响处理完---动画执行决定--决定完成事件影响（全局通知）---有响应则压栈处理。

回合外：收到事件通知-> 剩下的与回合内类似。

例子二：五谷丰登。将出牌看做一个技能，因此也是决定发动技能->询问后台技能要素。->满足之后确定->展示五谷丰登8张牌-->到此五谷丰登发动结束-->通知技能影响，

首先是通知自己-->决定拿牌-->决定影响-->。。之后的就类似了。

例子三：万箭齐发。类似上面。

例子四：拼点

例子五：火攻


有些技能是先选牌再触发的，因此先询问技能要素似乎不太正确。

整个协作过程要素抽象。

通知事件发生（动画已经作为上一个事件的过程处理完毕（动画展示即为通知，因为我们在模拟多个人玩这游戏，人自能看见））

-->（玩家对事件尝试响应，需要询问后台相应流程与合法目标，动画过程展示满足目标过程，确定发出相应决定）-->决定的影响通知-->决定的动画-->决定的结果通知。


进一步基本抽象：

事件与过程指导： 事件描述静态状态， 过程指导描述动态变化。




# 前端界面

# 后端

## 动词分类

“我拿刀砍人”，是我砍人还是刀砍人？

当然是刀砍人，但是刀自己不会动，因此我砍人实际上我拿刀，刀砍人这两个动作的合成。



“鸟飞” 动词“飞”是描述了鸟的动作

“我挥舞手臂” “我挥舞锤子” 既不是“我”整个人在挥舞，也不是手臂或者锤子自己在挥舞。

“我们称其为结界”，动词“称”

“合作”。

以上可以看出动词似乎根据参与的角色可以分为 1元动词（飞），二元动词（砍，挥舞）和多元动词（合作）

所谓元就是动词所描述的动作设计到的名词。1元动词描述唯一涉及名词的运动。2元动词描述主体向客体施加的动作
多元动词描述多个名词相互之间的动作。  


动词表示一个过程，这个过程可以是具体的，比如挥舞，也可以是抽象的，比如研究，因此需分为具象动词与抽象动词，
但在AI内部表示中，二者必须是一致的。

石头压在地板上。压是个动词，但是这个过程并没有任何东西在“动”，这种静态动词如何解释？

静态动词还有：躺着 趴着。

一种解释方法：

我们将动词重新解释为状态的延续本身。压力延续称之为动词压。花开红色称之为动词呈现出红色。

注意，动词是延续本身，而不是延续的内容。因此，所有的名词其在时间跨度上的延续本身都有对应的动词。

另一种解释方法：

人的心理、姿态都是动词。比如微笑、趴，这些动作执行完后依然称之为“微笑”或者“趴”。

再一种解释：

只把在时间上的状态变化过程称之为动词。

但是存在这样的情况：动作结果表示名词、动作结果表示名词之间关系。趋向动词加名词表示动词。

比如趴下是个动词，趴着是个名词，A趴在B之上则是表示A与B之间的关系（接触且施加了一个力）、A的姿态。
因此趴在...之上是一个复合表示。

我们取第三种解释，这意味着任何一个简单的自然语句其有复杂的内涵。

https://wenku.baidu.com/view/ddb8c49b28ea81c758f5788f.html


在我们新的体系下，上面所讲的有些动词不再是动词，或者说不完全是动词，比如判断动词、助动词不再是动词。

判断动词 不是动词。

心理动词：情绪 与 自觉。情绪我们不认为是动词，比如喜欢、厌恶，这些是状态，是名词。思念、觉得则是思维动作。

存续动词：开始即是抽象动词，也是介词---开始于。

## 后端分析

现实与构想如何标识？

构想或想象其实是近期构建？

远景：董卓杀蔡文姬长远来看是正收益

损益判断

因果关联 追溯原因

理解意图来判断状态：
比如张飞出了一张杀之后丢牌过，应能分析出张飞没有杀了，
因为一般情况系下，从张飞利益最大化的角度判断，张飞应该连杀。
二班情况就是场上有明牌南蛮等，张飞从自身血量考虑选择留一张杀。
这些都是张飞的意图判断。

判断别人的意图要换位思考。一个例子是郭汜单挑，郭汜发动贪狈，因为贪狈技能是个双刃剑，对面需要判断郭汜的意图并结合自身状况来做出反应。
那么他发动贪狈究竟是因为手里没有攻击牌而骗一张牌然后过呢？还是因为手里有很多杀但需要获得贪狈效果？


换位思考之前要先做到能考虑清楚自我的利益最大化。

什么叫我认为? “我认为”就是对自身思维活动的解释，既是“我看到、我预见、我感受、我反思、我回忆”到的一切，
“我认为本身”也是思维活动，因而是自身思维活动的一次迭代。

换位思考要考虑大家知道的信息不同。大家的信息差异如何在一人的脑中分别标识。

换位思考的终极挑战可以是单挑于吉猜真假。

自我利益的最大化不仅仅是求一个值，更是求一个路径，这里应该是某种非顺序的、启发式的方法。




抽象概念的表示：”古锭刀对荀攸威胁很大”为何理解或表示？ 涉及概念“威胁” “很大”。

平均值偏移？

平均范围？


AI还必须理解三国杀流程里的概念：结算回合，一轮，一局游戏。




路径的自我感知感？

时间上并行如何表示？

	首先，时间上的同时性并不意味着无法区分谁先谁后，而是没有必要区分谁先谁后。

				AI如何理解“无法区分”与“没有必要区分”



集合里的one by one如何表示？借助数轴？


长短期记忆？

想象空间？

效率的表示？


既然目标（比如集合中最大、特定状态）都可以看做一些列动作的组合。那么我们可以考虑路径问题了?

最大、一些又包含逻辑谓词（所有、存在），至于怎么表示逻辑谓词，还需思考。

在由简而繁的构建中，酒与杀都看做是黑盒操作的话？AI如何理解所谓最优路径是这两个动作的可重复排列问题？
并且如何意识到有些排列没有意义从而没有排下去的必要（比如杀然后酒）。






AI如何理解宏观收益？比如鲁肃比周泰的嘲讽更高？决斗曹节比决斗小诸葛更让敌人肉疼？



电脑“想要自己统计某个数据”这种情况如何自发产生？其实这个问题是意识的自观问题，跟by问题一样，且跟“设疑”有关，需要思考电脑如何设置疑问。



虽然想的很美好，但实际上系统可能会纠结于贴两张乐的先后顺序，要如何逐步训练让系统理解或者系统自己想明白这些东西没有影响？



时间先后关系的确立手段，也要被理解。

by关系本质就是因果链或者部分因果链本身。

系统启动后是如何的游荡状态。



人思考的特点：短视 变化的传播（意味着以空间换时间可能会有问题）

标号想象空间

带环图上的因果归约与快捷连接的建立


如何设置疑问？


### CASE

长短期效益问题：敌对阵营的张鲁邓艾。张鲁2血一个米，邓艾零田，邓艾为了防止张鲁回血而不发动屯田，我们认为这是短视行为，因为非关键回合下，单凭邓艾无法阻止张鲁回血，张鲁有很多其他机会回血，邓艾的这种坚持毫无意义，而且邓艾觉醒回合收益比较大，那么电脑邓艾如何理解这种收益关系呢？


电脑如何理解“通常情况下，AOE不利于反贼”这一点？


如何理解连弩酒杀要放后面，前面先先消耗掉杀？


电脑如何理解“仅凭随机摸两张牌很难打出两点伤害”


孙权如何理解“最大制衡牌，最大概率寻找一张杀以对对面一血主公形成最后击杀？”


决斗时给随后的古锭9杀留杀

刘湛勤王用狮子（即使勤王肯定无响应）

刘湛虽无杀，但用9后决斗，期待决斗后摸杀


先决斗耗掉杀再南蛮更有杀伤力

如何理解拆距离更有用？


刘协给牌要考虑的因素 电脑如何理解？


界孙权三牌含一张9一张火攻， 张松2血一牌。火攻看牌有的放矢，收益最大如何理解？


如何理解曹昂不要送出自己的-1马


电脑如何理解决斗与杀对付一血一手牌是两头堵的必杀局面？

	所谓两头堵包含“穷尽”的这种全局观点，“全局”这种概念又包含“同时”这种概念。

	从路径角度讲，“杀”->“决斗”还是“决斗”->“杀”的抽象路径（说抽象是因为出“杀”之后面临的情况还有很多种）。都会导致目的百分百被达到，
	而这两条路径穷尽了“杀”与“决斗”的所有排列，而这种“穷尽排列”是关带出来的，就是任意两个物体的排列组合是一种无关经验，此时被关带出来而已。


	要分析“杀”与“决斗”的出牌路径，就不得不建立这些出牌动作与目标手牌的关系，比如出杀且目标手牌是桃，目标该作何反应，另外反应的动作主体是目标还外在系统（其实这一点并不重要。）

	另外遇到张嶷手里一闪，沮授手里一桃一酒就不能在用通用规则，然而我们并不能简单的将其规则优先级设置在通用规则之上，这个优先级本身也是AI所能理解的一种“知识”。

	语言上，我们可以将通用规则在遇到张嶷与沮授的时候需要特殊处理，那么这种“在。。。情况下需要特殊处理”如何被AI所理解所表达？








