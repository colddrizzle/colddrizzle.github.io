---
layout: post
title: 原码、反码、补码
description: ""
category: 硬件
tags: [cache, 硬件]
---
{% include JB/setup %}

* toc
{:toc}

<hr />

## 机器码与真值

## 原码

最高位为符号位。0位整数，1位负数。

后面为真值绝对值的二进制表示。

0有两种表示：正0与负0.

## 反码

正数：与原码相同。

负数：除符号位外各位取反。

0有两种表示。以16位为例：

```
正0： 0000 0000 0000 0000

负0:  1111 1111 1111 1111
```

反码的意义（以16位为例）：

正数 0000 0000 0000 0000 到 0111 1111 1111 1111映射0到2^15-1

负数 1111 1111 1111 1111 到 1000 0000 0000 0000映射-0到-2^15+1

反码的意义是为了解决变减法为加法的事情。

注意反码的正负数表示，如果以原点对称的看的话，对称的两个数的和的真值永远是2^15-1。


## 补码

正数：与原码相同。

负数：先取反码再加1。

0只有一种表示：全部位为0。

补码的意义（以16位为例）：

正数 0000 0000 0000 0001 到 0111 1111 1111 1111映射1到2^15-1

负数 1111 1111 1111 1111 到 1000 0000 0000 0000映射-1到-2^15

注意还有一个1000 0000 0000 0000没有使用，顺着负数表示，该码用来表示-2^15。
也就是补码的情况下，负数的范围比整数的范围多1。

那么反码为什么不能将其中一个零用来表示一个负数或正数呢？

补码的意义是为了解决变减法为加法的问题，以及解决0的表示问题。


### 补码转原码或真值
正数不用管，我们来看负数补码如何求其真值或原码。

逆运算固然可行：减1然后取反。

但减1需要借位，有没有更好的方法？

## 反码、补码的总结

![img](/assets/resources/mem_coding.png){:width="100%"}


## 参考
[这篇](https://www.cnblogs.com/zhangziqiu/archive/2011/03/30/ComputerCode.html)
